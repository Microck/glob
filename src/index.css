@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: 'Fantasma';
  src: url('/fonts/fantasma/fantasma-regular.otf') format('opentype'),
       url('/fonts/fantasma/fantasma-regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* ACID BRUTALIST DESIGN SYSTEM */

@layer base {
  :root {
    /* Core Palette - Strict Hex Mapping */
    --background: 276 8% 23%;
    --surface: 273 12% 20%;
    --text-active: 351 96% 71%;
    --text-muted: 340 26% 45%;
    --text-reading: 15 29% 87%;
    
    /* Semantic mappings */
    --foreground: var(--text-reading);
    --card: var(--surface);
    --card-foreground: var(--text-reading);
    --popover: var(--surface);
    --popover-foreground: var(--text-reading);
    --primary: var(--text-active);
    --primary-foreground: var(--surface);
    --secondary: var(--surface);
    --secondary-foreground: var(--text-reading);
    --muted: var(--surface);
    --muted-foreground: var(--text-muted);
    --accent: var(--text-active);
    --accent-foreground: var(--surface);
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: var(--text-muted);
    --input: var(--text-muted);
    --ring: var(--text-active);
    --radius: 0rem;
  }

  * {
    @apply border-border;
    border-radius: 0 !important;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Chakra Petch', monospace;
  }

  /* Force zero radius everywhere */
  *, *::before, *::after {
    border-radius: 0 !important;
  }
}

@layer components {
  /* Typography Classes */
  .font-display {
    font-family: 'Syne', sans-serif;
    font-weight: 800;
  }

  .font-ui {
    font-family: 'Chakra Petch', monospace;
    font-weight: 700;
    text-transform: uppercase;
  }

  .debug-font-fantasma .font-display {
    font-family: 'Fantasma', sans-serif;
    font-weight: 400;
  }

  .debug-font-fantasma .font-ui {
    font-family: 'Fantasma', sans-serif;
    font-weight: 400;
  }


  /* Industrial Input Styling */
  .input-raw {
    @apply bg-surface border-b-2 border-muted px-4 py-3 text-reading font-ui;
    @apply focus:border-active focus:outline-none;
    transition: none;
  }

  .input-raw:hover,
  .input-raw:focus {
    @apply border-active text-active;
  }

  /* Button Variants */
  .btn-brutal {
    @apply bg-surface border-3 border-muted px-6 py-4 font-ui text-reading uppercase;
    @apply hover:border-active hover:text-active;
    transition: none;
  }

  .btn-download {
    @apply bg-active text-surface px-8 py-4 font-ui uppercase;
    @apply hover:bg-reading hover:text-surface;
    transition: none;
  }

  /* Drop Zone */
  .drop-zone {
    @apply border-3 border-muted bg-surface/50;
    @apply hover:border-active;
    transition: none;
  }

  .drop-zone-active {
    @apply border-active;
  }

  /* Grid Background */
  .grid-bg {
    background-image: 
      linear-gradient(to right, hsl(var(--text-muted) / 0.12) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--text-muted) / 0.12) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* Progress Bar Raw */
  .progress-raw {
    @apply font-ui text-active;
  }

  /* Bouncing Glob Animation */
  .animate-bouncing-glob {
    animation: bounce-glob 2s infinite ease-in-out;
  }

  @keyframes bounce-glob {
    0%, 100% {
      transform: translateX(0deg) rotate(0deg);
    }
    25% {
      transform: translateX(-2px) rotate(-1deg);
    }
    50% {
      transform: translateX(1px) rotate(0.5deg);
    }
    75% {
      transform: translateX(-1px) rotate(-0.5deg);
    }
  }

  @keyframes pattern-drift {
    from {
      background-position: 0 0;
    }
    to {
      background-position: var(--pattern-drift-x, 100px) var(--pattern-drift-y, 100px);
    }
  }

  .animate-pattern-drift {
    animation: pattern-drift var(--pattern-drift-speed, 30s) linear infinite;
  }
}

@layer utilities {
  /* Color utilities */
  .text-active {
    color: hsl(var(--text-active));
  }

  .text-muted-custom {
    color: hsl(var(--text-muted));
  }

  .text-reading {
    color: hsl(var(--text-reading));
  }

  .bg-surface {
    background-color: hsl(var(--surface));
  }

  .bg-active {
    background-color: hsl(var(--text-active));
  }

  .border-muted {
    border-color: hsl(var(--text-muted));
  }

  .border-active {
    border-color: hsl(var(--text-active));
  }

  .border-3 {
    border-width: 3px;
  }

  /* Negative tracking for headers */
  .tracking-brutal {
    letter-spacing: -0.05em;
  }

  /* Leading none */
  .leading-brutal {
    line-height: 0.9;
  }
}
